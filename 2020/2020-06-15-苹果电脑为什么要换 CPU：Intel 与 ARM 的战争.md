# 苹果电脑为什么要换 CPU：Intel 与 ARM 的战争

2020年3月，苹果公司发布了新款的 iPad Pro。这一版最大的特点，就是支持触摸板和鼠标。

![](https://www.wangbase.com/blogimg/asset/202006/bg2020061501.jpg)

上图的那个黑点，就是鼠标。苹果公司显然打算将平板电脑，当作笔记本使用。

这件事的意义，还不在于平板电脑。我们知道，iPad 的操作系统跟手机 iPhone 基本一致，可以安装手机 App，而笔记本的操作系统传统上跟桌面电脑一致。如果平板电脑的操作系统升级成笔记本，这意味着桌面电脑也可以。Mac Book 和 iPhone 可以用同一个操作系统。

苹果公司显然也是这么打算的。大家都猜测，几天后的6月22日举行 WWDC（苹果全球开发者大会），苹果公司将宣布更换 Mac 电脑的 CPU，从 Intel 公司的 x86 架构改成 ARM 架构。

![](https://www.wangbase.com/blogimg/asset/202006/bg2020061502.jpg)

一旦 Mac 跟 iPhone 使用同样的 CPU，那就铺平了统一操作系统的道路。操作系统无法通用的最主要原因，就是 CPU 架构不同。

本文回顾苹果公司的 CPU 变化历史，帮助大家理解这件事的技术含义，以及带给我们的启示。

## 一、CPU 架构是什么

CPU 的全称是“中央处理单元”，它是计算机的核心，计算都是由它来完成。它只是一个概念，每家公司都有自己的设计。

**不同的 CPU 设计实现，就称为” CPU 架构“（CPU architecture）。** 每一个 CPU 架构都有自己的指令集，彼此不通用，这导致运行在上面的软件也不通用，必须重新编译。如果没有专门做适配，一个架构下的软件就无法移植到另一个架构。

![](https://www.wangbase.com/blogimg/asset/202006/bg2020061503.jpg)

历史上，有过[多种](https://www.quora.com/What-are-the-types-of-computer-architectures-in-a-CPU/answer/Gyanu-Kumar-27) CPU 架构，目前最常见的架构有两种：x86 架构和 ARM 架构。

![](https://www.wangbase.com/blogimg/asset/202006/bg2020061504.jpg)

x86 架构的优点是性能好，缺点是耗电多、电压高，主要用于桌面电脑，生产厂商为 Intel 公司和 AMD 公司。ARM 架构的优点是耗电小、电压低，缺点是单核性能不如 x86 芯片，主要用于移动设备。

[ARM 架构的生产模式](http://www.ruanyifeng.com/blog/2011/01/brief_history_of_arm.html)是授权制，ARM 公司出售指令集的设计授权，购买的公司可以采用公版设计，也可以自己进行再开发。高通、三星、华为、苹果等公司，都采用这个模式，设计自己的芯片。

近几年，x86 架构发展迟缓，ARM 架构进步显著，已经从移动设备向桌面电脑和服务器进军了。苹果公司这一次更换 CPU，就是准备从 x86 架构改为 ARM 架构。

## 二、Mac 电脑的 CPU 历史

历史上，Mac 电脑发生过两次 CPU 架构更改。

1984年，Mac 电脑的第一代 Macintosh 问世，CPU 是摩托罗拉公司的68000芯片。

1994年，摩托罗拉公司升级换代，68000 芯片升级为 PowerPC 芯片，Mac 电脑跟着升级，这是第一次 CPU 架构更改。

2005年，乔布斯宣布，Mac 电脑将放弃 PowerPC 芯片，改用 Intel 公司的 CPU。这是第二次架构更改。

![](https://www.wangbase.com/blogimg/asset/202006/bg2020061507.jpg)

这次架构更改，主要有两个原因。一是 Intel 的 CPU 能够提供更强的性能，并且由于产量大，价格也更便宜。二是 Windows 电脑使用的是 x86 芯片，只要硬件一致，Mac 电脑就也能安装 Windows，做到”一机双系统“。这对当时处于市场劣势的 Mac 电脑，可以促进销售。

乔布斯使用他特有的具有煽动力的语言，这样解释：“最重要的原因是，向前看时……我们想象了各种我们希望为你打造的惊人产品，但是我们不知道如何使用 PowerPC 来实现它们。”

## 三、第三次架构更改的背景

15年过去了，情况发生了很大的变化。

CPU 架构跟 Windows 保持一致，已经不构成吸引力了。据统计，2010年15％的消费者购买 Mac 电脑后，会安装双系统，今天只剩下了2％。此外，虽然 CPU 架构一致，但是 Windows 的视频游戏并没有移植到 Mac 电脑，游戏开发商依然不支持 Mac。对于大多数用户来说，购买 Mac 电脑，并不是因为可以安装 Windows，或者运行 Windows 特有的软件。

更大的变化是 Mac 和 WIndows，乃至所有的桌面设备，都已经不那么重要了，消费者和技术投资的主流，已经转向了移动设备。

![](https://www.wangbase.com/blogimg/asset/202006/bg2020061508.jpg)

苹果公司的主要业务和利润来源，现在都来自移动领域，iPhone 的市场规模已经远远大于 Mac。所有的移动设备使用的都是 ARM 芯片，苹果的投资和技术成果也主要在这个领域，而不是在 x86 相关领域。

苹果正在围绕移动设备，重构它的战略。它的软件工具（LLVM 编译器、Swift 语言、Xcode 开发工具、App Store 商店）和硬件设备（Apple Watch、AirPods 等），都是围绕 iPhone 开发的。

这就是 Mac 第三次更换 CPU 架构的背景。

## 四、Intel 的失败

Mac 电脑更换 CPU 架构，也与 Intel 公司多年来创新乏力、产品缺乏突破有关。

2007年苹果推出 iPhone 之前，最初希望使用 Intel 的 ARM 芯片 XScale 作为手机的 CPU。但是，英特尔当时的 CEO 保罗·欧德宁，不看好苹果的这个项目，而且也不愿意在 ARM 芯片上投资，最后不仅放过了 iPhone，还将 XScale 芯片整体卖给了 Marvell 公司。

后来的历史证明，这是一个灾难级别的错误，iPhone 横扫业界，取得了辉煌的成功。英特尔这下急了，又反过来开发基于 x86 架构的移动设备 CPU，就是后来的 Atom。苹果没有在移动设备上再给 Intel 机会，x86 架构被证明不适合移动设备，Atom 也没有成功。

![](https://www.wangbase.com/blogimg/asset/202006/bg2020061509.jpg)

Intel 在移动设备上失败，在桌面设备的 CPU 上则陷入停滞。MacBook Pro 的 CPU， 2010年是2核的 2.66 GHz 的 i7，2020年是8核的 2.6 GHz 的 i9，过去10年基本上只是改进了工艺，增加了核心数量，没有实质的重大突破。除了性能以外，苹果最在意的两点——功率和散热—— Intel 也没有解决。

对于苹果来说，Intel 的 x86 CPU 很早以前就不是 Mac 电脑的卖点了，反而成了拖慢创新的障碍。

## 五、苹果自己的 ARM 芯片

iPhone 的前三代—— iPhone、iPhone 3G、iPhone 3GS———— CPU 是三星生产的。但是，苹果从一开始就打算推出自己的芯片，因为 ARM 采用授权模式，只要购买授权，就可以在上面添加自己的设计。

2010年发布的 iPhone 4，第一次采用苹果自己设计的 CPU，名称是 Apple A4。

![](https://www.wangbase.com/blogimg/asset/202006/bg2020061510.jpg)

大概从 A4 发布的这一天开始，苹果就有用自己的芯片替换 Intel 的打算了。因为当年推出的 Apple TV 第二代，也用了 A4 芯片。但是，Apple TV 第一代用的是 Intel 的 x86 芯片，被做成缩小版的 Mac。到了第二代，CPU 改了以后，就变成 iOS 设备。

Apple TV 这种设备使用 x86 芯片，根本没有获得任何好处。因为它不需要考虑 Windows 兼容性，也不需要很强的性能。相反地，使用 ARM 芯片以后，功耗和散热都变小了，价格也能降下来，从229美元变成了99美元。下图是 Apple TV 第一代和第二代的大小对比。

![](https://www.wangbase.com/blogimg/asset/202006/bg2020061511.jpg)

此后，苹果一直在加强芯片研究，每一代 iPhone 用的都是苹果自己的 CPU，从 iPhone 4S 的 A5 到最新的 iPhone 11 的 A13。现在的苹果芯片在效能、功耗和功能方面，可能是世界上数一数二的 ARM 芯片。

![](https://www.wangbase.com/blogimg/asset/202006/bg2020061512.jpg)

## 六、更换 CPU 架构的好处

几天之后的 WWDC 2020，可能就会宣布使用 A14 芯片的 MacBook 笔记本。但是，苹果其实早就尝试在 MacBook 里面加入 ARM 芯片，把自己在 iPhone。

2016年，苹果在 MacBook Pro 里面加了一块自己设计的 ARM 芯片，叫做 Apple T1，把 TouchID、FaceTime、TouchBar 等功都做进去了，让自家芯片分担一些 Intel CPU 的工作。

2018年，苹果又推出了升级版的 Apple T2。这块芯片仿造了 iPhone 7 的 A10，有更强的运算能力，并加入了更多的功能，比如硬件加速、媒体编解码器、Siri 支持等。

![](https://www.wangbase.com/blogimg/asset/202006/bg2020061513.jpg)

可以想象，如果笔记本的整个 CPU 都由苹果自己设计，一定会有更多的功能集成进来，也能实现更好的优化。苹果手机的安全特性、图形支持、视频处理、音频处理、加密解密、人工智能集成在一起，放进桌面设备，批量生产，从而降低了成本。苹果从而控制整个堆栈，可以将芯片、硬件、软件协同在一起，制作出许多令人激动的新功能。

一旦 Mac 电脑采用 ARM 架构后，就能够实现统一的 Apple 生态系统，而不是单独的 Mac 生态和 iPhone/iPad 生态，不同设备都有同样的架构，运行同样的程序，唯一差别是设备外形尺寸与性能。

## 七、过渡安排

苹果早就在为过渡做准备，2018年宣布了 [Project Catalyst](https://developer.apple.com/mac-catalyst/) 项目，可以将 iPhone 和 iPad 应用自动转为 Mac 应用，反之则不行。

现在看来，这个项目就是为移动应用移植到桌面电脑做准备。苹果的目标就是，同一个 App 最终可以在 iPhone、iPad 和 Mac 上运行。

苹果应该不可能把现在的桌面型号，一下子就升级为 ARM 架构。很多人猜测，它会先推出一款12吋的 MacBook，里面的 CPU 就是 ARM 架构。这是最合理的选择，因为笔记本电脑不需要极端强劲的性能，也不需要扩充卡，需要大量使用外围设备或使用旧软件的用户，不太可能购买笔记本电脑。而且，降低功耗将使笔记本电脑受益最多，因为可以延长电池寿命。

回顾历史，Mac 电脑从 PowerPC 转为 x86 ，整整花了6年。苹果为 Mac OS X 10.4版（Tiger）同时推出了 PowerPC 和 Intel 两个版本，直到2013年的 OS X 10.7 （Lion）才不再支持 PowerPC。这次从 x86 转为 ARM，估计也需要同样长的时间。

然后，即将面世的 Mac OS X 10.16 可能同时支持 x86 和 ARM 两种架构。苹果还会将提供软件转换功能，让基于 x86 架构的软件能够在 ARM 处理器上运行。现有桌面设备的 ARM 升级版，可能要等到2022年才会问世。

（完）




