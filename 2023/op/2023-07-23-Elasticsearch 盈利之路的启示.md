## Elasticsearch 盈利之路的启示

开源软件怎么赚钱？上周[写了一半](http://www.ruanyifeng.com/blog/2023/07/weekly-issue-263.html)，今天接着写。

这个问题很重要，软件业的生态、程序员的谋生方式都跟它有关。

开源软件如果要蓬勃发展，就不能只有投入，没有经济回报，必须有一个健康的持续发展模式。

![](https://cdn.beekka.com/blogimg/asset/202307/bg2023072304.webp)

就像上周写的，**出售软件或者出售服务，都是不可行的**。哪怕红帽公司这么强的技术，都觉得这种模式持续不下去。

根据我的观察，**目前只有一种模式，被证明是可行的**，能够让软件企业健康发展，那就是 Elasticsearch 的模式。

![](https://cdn.beekka.com/blogimg/asset/202307/bg2023072305.webp)

Elasticsearch 是著名的搜索软件，市场份额非常大，很多大型网站的背后都是它。

2004年，以色列程序员谢伊·巴农（Shay Banon）为了方便妻子查找菜谱，就写了一个简单的搜索工具，这就是 Elasticsearch 的由来。

![](https://cdn.beekka.com/blogimg/asset/202307/bg2023072306.webp)

一开始，Elasticsearch 采用最宽松的 Apache 许可证，几乎没有任何限制。但是，他拿了风投，又注册了公司，需要有收入，不得不找到赚钱的方法。

**他想到的办法，就是提供云服务**。你可以用我的代码，自己搭建搜索，但也购买我提供的搜索服务，省得自己管理服务器了。这样你比较省事，我也获得了收入。

![](https://cdn.beekka.com/blogimg/asset/202307/bg2023072307.webp)

“云服务模式”是开源软件的常见赚钱方式，很多公司采用。**这种模式的最大缺点在于，它不是独占性的**。如果你的软件太成功，其他人也可以搭建服务出售，而且卖得比你更便宜，最终获得更大的市场份额。

Elasticsearch 遇到的就是这种情况，亚马逊开始用 Elasticsearch 的代码，卖自己的搜索服务了，很快就让原始的开发者没生意了。

![](https://cdn.beekka.com/blogimg/asset/202307/bg2023072308.webp)

眼看公司就要赚不到钱了，Elasticsearch 不得不在2021年宣布，放弃 Apache 许可证，改用一个新的许可证，规定用户不能用它的代码搭建公开销售的服务。

这件事情引起了轩然大波，最不爽的就是亚马逊，新的许可证针对它，不允许它出售搜索服务了。亚马逊一不做二不休，索引就把代码分叉了，从此维护自己的代码分支了，起名为[OpenSearch](https://aws.amazon.com/cn/opensearch-service/)。 

现在还不出来，Elasticsearch 和 OpenSearch 谁会赢。但是不管怎样，Elasticsearch 有了生存保障，收入稳定下来了。

我认为，开源软件比较可行的商业模式，目前就是这样。有人把它叫做“开源核心模式”，即代码的核心部分是开源的，可以免费使用的，但是存在某些限制，比如不允许销售服务，或者一些插件和周边工具不开源，需要收费。

目前，采用这种模式的开源软件，可能是商业上唯一可行的。比较知名的企业，除了 Elasticsearch，还有 MongoDB。

如果你也想通过开源软件创业，建议也采用这种模式，有两个版本：一个是开源的、免费使用的社区版，另一个是包含更多功能和插件的收费版。