## 告别密码

大家上网，体验最差的是哪个环节？

答案肯定是密码。

互联网发展了20多年，各个环节都有巨大的改善，只有密码没变，还是20年前的用法。

而且，不仅没有改善，体验反而更差了。现在，登陆时除了表单输入密码，往往有其他验证（短信验证码、图片验证码、OTP 时间码等等），非常麻烦。

更不要说，密码还有被盗、被破解、被钓鱼的风险。

多年来，业界一直在努力，试图解决这个问题。近两年终于有了突破，各大公司达成一致，设计出了**下一代密码替代方案：密钥登陆（Passkey）**。

它不仅解决了上面提到的所有问题，而且用户很容易上手，主要厂商已经全部支持。

2022年 WWDC 大会，[苹果宣布](https://developer.apple.com/passkeys/)支持 Passkey。

![](https://cdn.beekka.com/blogimg/asset/202307/bg2023070801.webp)

2023年5月，[谷歌](https://blog.google/technology/safety-security/the-beginning-of-the-end-of-the-password/)和[微软](https://www.microsoft.com/en-us/security/blog/2023/05/04/how-microsoft-can-help-you-go-passwordless-this-world-password-day/)同时宣布，全面接入 Passkey。

![](https://cdn.beekka.com/blogimg/asset/202307/bg2023070802.webp)

![](https://cdn.beekka.com/blogimg/asset/202307/bg2023070803.webp)

那么，Passkey 到底是什么？为什么它可以淘汰密码？今天，就来简单介绍一下。

Passkey 号称“无密码登录”，在移动设备上其实早就实现了。手机 App 可以调用手机的人脸识别或者指纹识别，进行身份认证，不需要输入密码。

大家马上就能想到，能不能设计一套统一的机制，让网站也可以调用手机上面的硬件识别，从而彻底告别密码。这就是 Passkey 的来历。

它的思路就是设计一个独立的“身份管理器”，由这个“身份管理器”提供接口，调用各种硬件认证机制，并将结果返回给网站。

大家知道，密码的英文单词是 password，表示“过关凭证”是一个词语（word）。相应地，passkey 就表示“过关凭证”是一把钥匙，也就是私钥，可以译为“密钥登录”。

在 Passkey 方式下，网站保存的不是用户密码，而是用户公钥。登陆时，用户只需提供用户名，网站找到对应的公钥，发出一个加密的随机数，如果用户可以用私钥解开，就证明了自己的身份，从而登录成功。

看到这里，你可能会问，普通用户如何获得自己的密钥呢？毕竟他完全不理解这些东西。

这里就要说到 Passkey 的关键了。它要求外部必须存在一个“身份管理器”，管理用户的密钥，并且直接跟网站对话。

“身份管理器”有一对主密钥。使用时，它会根据不同用户和不同域名，为每个网站生成不一样的账户密钥，并把公钥提供给网站保存。

目前，iOS、安卓和笔记本电脑自带硬件的身份验证（人脸或指纹），所以身份管理器和这些硬件捆绑在一起，系统内置了。

比较麻烦的是普通台式机，由于不带有任何硬件识别，所以有两种解决方法。一是弹出一个二维码，要求手机扫描，把身份识别交给手机去完成；二是使用专门的硬件身份管理器。

最后，推荐大家尝试一下[实际演示](passkeys.io)，详细的细节解释可以参考[这篇文章](https://www.slashid.dev/blog/passkeys-security-implementation/)和[这篇文章](https://www.stavros.io/posts/clearing-up-some-passkeys-misconceptions/)。

---

点击上面的认证，简直是一种痛苦。

密码 - 多因素认证 - 无密码登录

它们不会被网络钓鱼，不会在网站泄露中丢失，不会因读取您的网络请求而受到损害，攻击者无法创建虚假网站并用它来窃取您的凭据。

它不需要多因素认证了。

https://developer.apple.com/passkeys/

https://www.stavros.io/posts/clearing-up-some-passkeys-misconceptions/

为每个网站生成不一样的密钥对，公钥对。

即使网站数据库泄漏，对方也无法破解。而且，每个网站的密钥都不一样，也不影响其他网站。

https://obem.be/2023/05/28/re-passkeys.html

身份管理器：涉及两对密码，

https://www.slashid.dev/blog/passkeys-security-implementation/?r=1

最安全的方法是使用硬件的身份管理器。

但是，很贵，而且用起来不方便。大多数密码管理器都是 USB-A 接口，但是Mac 电脑只有 Type-C 接口。

估计最终外包