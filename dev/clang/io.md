# 输入与输出

## scanf()

`scanf()`函数用于读取用户的键盘输入。它会等待用户从键盘输入，然后将输入内容存入一个变量。

```c
scanf("%d", &i)
```

上面的代码表示，将用户从键盘输入的整数，存入变量`i`。

注意，`scanf()`要求变量前面必须加上`&`运算符，因为它传递的不是值，而是地址，即将变量`i`的地址改为用户输入的值的地址。

`scanf()`可以读取用户的输入，放进多个变量。

```c
scanf("%d%d%f%f", &i, &j, &x, &y);
```

上面的示例将用户的输入，依次放入`i`、`j`、`x`、`y`四个变量。

`scanf()`需要使用占位符告诉编译器，用户输入的数值是什么类型。它的占位符与`printf()`的占位符是一致的。它会按照占位符提示的格式，读取用户输入的变量。比如，占位符`%d`提示是一个整数，它从第一个非空白字符开始读起，直到遇到第一个非数字字符为止。

```c
-13.45e12# 0
```

举例来说，用户输入上面一串值。如果对应的占位符是`%d`，`scanf()`会读取到`-13`，然后停下来，下一次读取的首字符是`.`。如果对应的占位符是`%f`，会读取到`-13.45e12`，下一次读取的首字符是`#`号。如果对应的占位符是`%s`，会读取到`-13.45e12#`，下一次读取的首字符是空格符。

如果占位符是`%c`，它会读取当前第一个字符，无论该字符是否为空格。

如果占位符是`%s`，它会从第一个字符开始读起（无论是不是空格），直到遇到第一个非空白字符为止。由于遇到空格就会停止读取，所以无法利用设定占位符的字符宽度，让只有一个`%s`的`scanf()`读取多个单词。

`scanf()`会忽略空白字符（包括空格符、水平制表符、垂直制表符、换页符和换行符），直到发现输入的字符匹配格式符为止。

`scanf()`的返回值是成功读取的项数。如果没有读取任何项，或者匹配失败（比如需要读取数字，用户输入了字符），则返回`0`。如果读取到文件结尾，则返回 EOF。

## getchar()

`getchar()`函数不带有任何参数，返回输入队列的下一个字符。

```c
char ch;

ch = getchar();
// 等同于
scanf("%c", &ch);
```

## putchar()

`putchar()`函数用来打印它的参数字符。

```c
scanf("%c", &ch);

putchar(ch);
// 等同于
printf("%c", ch);
```

由于这两个函数只处理字符，所以要比`scanf()`和`printf()`更快。它们的原型定义在`stdio.h`头文件中。

## Stream

文件必须先打开，才能读取或写入。

C 语言提供三个默认已经打开的文件。

- stdin	标准输入，通常默认情况下为键盘
- stdout	标准输出，通常默认情况下为屏幕
- stderr	标准错误，通常也是默认情况下的屏幕

下面两种写法是等价的。

```c
printf("Hello, world!\n");
fprintf(stdout, "Hello, world!\n");
```

`printf()`是直接写入`stdout`，而`fprint`是指定写入文件`stdout`。

