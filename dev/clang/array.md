# 数组

## 简介

数组通过变量名后加方括号表示，方括号里面是数组的成员数量。

```c
int scores[100];
```

上面示例声明了一个数组`scores`，里面包含100个成员。

数组的成员从`0`开始编号，因此最后一个成员的编号会比数组长度小`1`。数组名后面使用方括号指定编号，就可以引用该成员。也可以通过该方式，对该位置进行赋值。

```c
scores[0] = 13;
scores[99] = 42;
```

上面示例对数组`scores`的第一个位置和最后一个位置，进行了赋值。

注意，如果引用不存在的数组成员，并不会报错，所以必须非常小心。

```c
scores[100] = 51;
```

上面示例中，数组`scores`只有100个成员，因此`scores[100]`这个位置是不存在的。但是，引用这个位置并不会报错，会正常运行，使得紧跟在`scores`后面的那块内存区域被赋值，而那实际上是其他变量的区域，因此不知不觉就更改了其他变量的值。这很容易引发错误，而且难以发现。

数组的成员可以放各种类型的值，比如下面示例放入一个自定义类型。

```c
struct fraction numbers[1000];

numbers[0].numerator = 22;
numbers[0].denominator = 7;
```

上面示例声明了一个有1000个成员的数组`numbers`，每个成员都是自定义类型`fraction`的实例。

数组名是一个指针，指向数组第一个成员（`array[0]`）的地址。

数组名支持加法运算，加上一个整数会自动指向相应成员的地址。比如，`array + 3`会指向`array[3]`的地址（即`&(array[3])`）。

声明数组时，就自动分配了地址，并且是不可改变的。下面的代码会报错。

```c
int ints[100];

ints = NULL; // 报错
ints++; // 报错
```

## 多维数组

C 语言允许声明多个维度的数组，有多少个维度，就用多少个方括号，比如二维数组就使用两个方括号。

```c
int board[10][10];
```

上面示例声明了一个二维数组，第一个维度有10个成员，第二个维度也有10个成员，相当于第一个维度的每个成员下面都各自有10个成员，因此整个二维数组就有100个成员（10 x 10 = 100）。

引用二维数组时，需要使用两个方括号，同时指定两个维度。

```c
board[0][0] = 13;
board[9][9] = 13;
```

跟一维数组一样，每个维度的第一个成员也是从`0`开始编号。

