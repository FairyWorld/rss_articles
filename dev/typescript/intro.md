# TypeScript 简介

## 概述

### 静态类型

TypeScript （简称为“TS”）是微软公司发明的一种编程语言。

它的主要目的是将 JavaScript 语言（简称为“JS”）改造为一种静态类型语言。JavaScript 本身是动态类型语言，变量可以随时改变类型。

```javascript
let x = 123;
x = 'hello world';
```

上面示例中，变量`x`的值一开始是数值，后来改成了字符串，这就叫做动态类型。

TypeScript 是静态类型语言，不允许这样的改动。如果变量的类型一开始是数值，那就只能存放数值，不能存放其它类型的值。

由于 TypeScript 的目的只是为 JS 加上静态类型系统，所以它沿用了 JS 的所有语法，再加上自己的类型语法，可以视为是 JS 的超集。

理论上，JS 脚本都属于合法的 TS 脚本，现有的 JS 代码可以与 TS 代码一起工作。

### 编译

TypeScript 不提供代码的运行环境，只提供代码的转换工具，将 TS 代码转为 JS 代码，然后再在 JS 环境运行。这种代码转换，称为“编译”（compile）。

代码转换时，转换器会将添加的类型注释删除，并将 TS 特有的语法转为 JS 语法。因此，TS 的类型检查只是编译时的类型检查，而不是运行时的类型检查。一旦代码编译为 JS，运行时就不再检查类型了。

TypeScript 统一使用`.ts`作为 TypeScript 脚本的后缀名。

### 静态类型的好处

为什么 TS 要为 JS 添加静态类型？主要有下面三点好处。

- 编译时发现错误
- 使得代码更容易维护。
- 提供更好的 IDE 支持。

但是，静态类型也存在缺点，主要是丧失了动态类型的代码灵活性，以及编写代码时会增加一些工作量。

另外，TS 项目依赖 JS 生态，但是过去大部分 JS 项目都没有做 TS 适配。

## 类型的表达

TS 对每一个值的存储位置（变量、属性等），都要求有明确的类型。

TS 提供两种方法，获得存储位置的类型：类型注释和类型推断。

### 类型注释

TS 通过在变量名后面使用冒号，添加类型注释，表示该变量的类型。

```typescript
let x: number;
```

上面代码中，变量`x`的类型是数值（number）。

如果学过 JS，你可能知道没有初始化的变量，值一律等于`undefined`。那么，undefined 是否会违反静态类型`number`呢？TS 规定变量赋值之前不能读取，从而解决了这个问题。

### 类型推断

对于没有提供类型注释的变量和属性，TS 会自动推断它们的类型，这叫做“类型推断”。

```typescript
let myNumber = 123;
```

上面代码中，变量`myNumber`没有类型注释，TypeScript 会自行推断该变量的类型为数值，后面就不能改成其他类型的值了。

```typescript
let myNumber = 123;
myNumber = 'hello'; // 报错
```

上面示例中，变量`myNumber`的类型推断为数值，再赋值为字符串就会报错。