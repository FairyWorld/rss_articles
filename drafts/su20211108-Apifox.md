## Apifox 介绍

互联网兴起以后，大部分软件都采用了 **服务架构**，即“客户端 + 后端服务”。

后端提供的服务接口，统称为 API。大多数程序员的日常工作，就是跟 API 打交道，不是生成 API，就是接入 API。

![](https://cdn.beekka.com/blogimg/asset/202111/bg2021110902.jpg)

业界已经有很多成熟的工具，满足 API 开发的方方面面。

> - Swagger（后改名 OpenAPI）：管理 API 文档。
> - Postman：调试 API。
> - Mock 工具：模拟 API 返回数据，用于测试。
> - JMeter：API 性能压测。

单个来看，这些工具都很强大。但是，开发时一起使用，往往很痛苦。因为它们的数据不通用，每个有自己的一套格式，比如在 Swagger 定义好 API，到了 Postman 又得重新描述一遍，非常累赘。大型项目有几十个、几百个 API，管理起来也会非常混乱，效率低下。

![](https://cdn.beekka.com/blogimg/asset/202111/bg2021110903.jpg)

本周介绍一个优秀的国产 API 管理工具 [Apifox](https://www.apifox.cn/)。它的最大特点，就是把 API 开发的各种需求坐在一个软件里面。

> Apifox = Postman + Swagger + Mock + JMeter

这样就大大简化了流程和工作量。举例来说，我们可以把 Swagger 格式的 API 定义，导入 Apifox，然后这一套定义就可以用来生成文档、测试接口、Mock 数据等等。

![](https://cdn.beekka.com/blogimg/asset/202111/bg2021110904.webp)

为了降低上手门槛，Apifox 的界面跟 Postman 是基本一致的，而且提供 Postman 和 Swaggger 的所有功能，并且保证兼容性，允许各种格式数据的导入和导出。它的界面和[文档](https://www.apifox.cn/help/)都是全中文的，包含详细的教程，特别符合中国程序员的需要。


Apifox目标是通过一套系统、一份数据，解决多个系统之间的数据同步问题。只要定义好接口文档，接口调试、数据 Mock、接口测试就可以直接使用，无需再次定义；接口文档和接口开发调试使用同一个工具，接口调试完成后即可保证和接口文档定义完全一致。高效、及时、准确！

- 接口文档定义功能：Apifox 遵循 OpenApi 3.0 (原Swagger)、JSON Schema 规范的同时，提供了非常好用的可视化文档管理功能，零学习成本，非常高效。
- 接口调试功能：Postman 有的功能，比如环境变量、预执行脚本、后执行脚本、Cookie/Session 全局共享 等功能，Apifox 都有，并且和 Postman 一样高效好用。
- 数据 Mock功能：内置 Mock.js 规则引擎，非常方便 mock 出各种数据，并且可以在定义数据结构的同时写好 mock 规则。支持添加“期望”，根据请求参数返回不同 mock 数据。最重要的是 Apifox 零配置 即可 Mock 出非常人性化的数据，具体在本文后面介绍。
- 接口自动化测试：提供接口集合测试，可以通过选择接口（或接口用例）快速创建测试集。目前接口自动化测试更多功能还在开发中！目标是：JMeter 有的功能基本都会有，并且要更好用。


接下来，带着大家，简单体验一下Apifor的使用。

1、先在官网下载对应系统安装包，进行安装，安装完成后，第一次启动需要先登录。

Ps: 登录前，需要先通过邮箱来注册一个帐号。

2､ 登录成功后，Apifox默认给了一些例子，单纯看它的界面会发现和Postman界面比较相似。

Ps: 当然也不要被它的外表所欺骗，功能还是有别于Postman的。

3､在本地启一个API服务，端口为8000, 在Apifor上，新建一个新的测试环境，如下所示：

4､新建一个测试分类如：接口测试，也可直接在默认分类上，新建一条接口用例，如下所示：

如上图，添加对应的基础信息、配置请求参数等。

5､选择测试环境，点击发送按钮，运行接口测试用例。

看到这里，可能有些读者觉得和Postman功能基本是一样的，不妨接着往下看。


### 更多特性

- 在线生成接口文档

![](https://cdn.apifox.cn/www/assets/image/article/main/shared-doc-1.png)

- 内置了一个脚本系统，可以对 HTTP 请求进行动态加工，还可以通过脚本实现自动登录，或者保持登录态。

- 除了图形界面，还有命令行调用，便于持续集成。

- 自动校验数据结构。系统会根据接口文档里的定义，自动校验返回的数据结构是否正确，无需手动写断言脚本检测，非常高效！

![](https://img-blog.csdnimg.cn/20201214153824151.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MDgyOTY1Mw==,size_16,color_FFFFFF,t_70)

- 根据mock.js语法，自动模拟生成服务器数据。Apifox 根据接口定义里的数据结构、数据类型，自动生成 mock 规则。
- 代码自动生成，
根据接口模型定义，自动生成各种语言/框架（如 TypeScript、Java、Go、Swift、ObjectiveC、Kotlin、Dart、C++、C#、Rust 等）的业务代码（如 Model、Controller、单元测试代码等）和接口请求代码。目前 Apifox 支持 130 种语言及框架的代码自动生成。

图片：https://blog.csdn.net/apifox/article/details/107022869?spm=1001.2101.3001.6650.3&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-3.no_search_link&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-3.no_search_link

更重要的是：你可以通过自定义代码模板来生成符合自己团队的架构规范的代码，满足各种个性化的需求。

4､导入、导出
1. 支持导出 OpenApi (原Swagger)、Markdown、Html 等数据格式，因为可以导出OpenApi格式数据，所以你可以利用 OpenApi (Swagger) 丰富的生态工具完成各种接口相关的事情。
2. 支持导入 OpenApi (原Swagger)、Postman、HAR、RAP2、yapi、Eolinker、DOClever、ApiPost 、Apizza 等数据格，方便迁移旧项目。


Apifox 本身也采用“服务器-客户端”模式，需要下载官方的桌面客户端，并且使用之前需要用邮箱注册一个用户。

Apache JMeter是一个Apache 项目，可用作负载测试工具，用于分析和测量各种服务的性能，重点是Web 应用程序。

公网的 SaaS 服务是免费的，

- 无任何限制
- 不限团队人数
- 不限功能
- 不限项目数
- 不限接口数

私有化部署版才收费，可以部署在企业内部，按使用人数收费。具体的价格优惠，可以向官方[咨询](https://www.apifox.cn/help/app/privatization-deployment/)。