# 2024最流行的网站架构——边缘平台架构：概念与产品

互联网开发的核心是什么？

答案可能就是网站架构。你要选择一个合适的架构，用来组织代码，然后在服务器跑起来。

今天，我就想给大家介绍，眼下最流行的一种网站架构。它非常合理，效果极佳，而且借助云服务商提供的工具，架设非常容易。

它就是本文的主题——**边缘平台架构**（edge platform）。

大家可能经常听到“edge”（边缘）这个词，但是未必了解它的意思。我尽量用通俗的语言，解释什么是边缘，什么是边缘平台架构，它的优势在哪里，以及怎样利用边缘平台，架设自己的网站。

![](https://cdn.beekka.com/blogimg/asset/202403/bg2024031307.webp)

## 一、从“服务器-客户端”谈起

为了理解边缘平台，需要从最基本、最传统的“服务器-客户端”（server-client）架构讲起。

在“服务器-客户端”的架构下，存在一个中心服务器，所有客户端都向它发出请求。

![](https://cdn.beekka.com/blogimg/asset/202403/bg2024031214.webp)

这种架构的优点是简单易行，缺点是**中心服务器是一个单点依赖**。一旦访问量大，可能会有性能问题，还可能中断服务。

而且，中心服务器的物理位置是固定不变的，导致用户的访问速度与地理距离有关。同样条件下，离服务器越近，访问速度越快；离服务器越远，访问速度越慢。

## 二、CDN 的出现

为了减轻中心服务器的负担，更是为了拉近与用户的地理距离，CDN 架构就出现了。

CDN 的想法很简单，就是在各地的机房中设置大量的节点服务器，把每次访问都不变的静态资源文件，复制到这些服务器上面。

![](https://cdn.beekka.com/blogimg/asset/202403/bg2024031215.webp)

用户访问时，涉及静态文件的请求就不会发到中心服务器，而是通过 DNS 系统，发到地理位置最靠近的节点服务器，由后者发送给他。

这样的设计，既减少了发往中心服务器的请求，也减少了用户与静态文件之间的物理距离，从而加快了访问速度。

## 三、边缘的概念

大家可能注意到了，CDN 架构中存在两种不同作用的服务器。

一种是中心服务器，负责数据计算和存储；另一种是节点服务器，负责发送静态资源文件。

由于节点服务器是在架构的外围，为了跟中心服务器相对应，**人们就把起到外围辅助作用的节点服务器，称为“边缘服务器”**（简称边缘）。

![](https://cdn.beekka.com/blogimg/asset/202403/bg2024031308.webp)

就像上图中，中心服务器在云端（cloud），它的外围是边缘服务器（edge），然后才是用户（user）。

边缘服务器有一个重要特征，它是距离用户最近的服务器。人们有时候提到“边缘”，就特指最靠近用户的那组节点服务器。

## 四、边缘平台架构

CDN 架构只是把静态文件放到了边缘服务器，数据计算和数据存储还是在中心服务器，对于用户来说，这部分可能还是很慢。

很自然地，大家就想到了，能不能把数据计算、数据存储也放到边缘服务器呢？

答案当然是完全可以。只要把数据计算设计成不涉及状态的云函数，把数据存储限制在没有一致性要求的数据，它们就都可以放到边缘服务器。这就是边缘计算和边缘存储的由来。

这样的话，数据计算、数据存储、文件下载，都由距离用户最近的边缘服务器处理，网站的响应速度就会整体提升。

**由于边缘服务器这时具备多种功能，实际上就升级成了边缘平台**，CDN 架构就变成了边缘平台架构。

在这种架构下，你的网站有许多个实例，分布在每一组边缘服务器上。用户访问的总是距离最近的那个实例。

注意，中心服务器这时还是存在的，只是它的工作主要变成了协调和同步边缘服务器，而不再是直接与客户端交互了，客户端只与最近距离的边缘服务器直接联系。

## 五、国外的边缘平台

国外很多新兴的云服务商，现在都主推边缘平台架构。

世界最大的 CDN 服务商 Cloudflare，早就不限于 CDN 服务了。它的边缘服务器除了存放静态文件，还可以进行云计算、数据库读写、图像处理等许多功能。

其他的云服务商 Vercel、Netlify、Netflix、Deno Deploy 提供的都是类似的服务。

国外的这些边缘平台，有一个最大的缺点，那就是服务器都在境外，基本没有中国大陆境内节点。

对于境内访问者，没有境内节点，就完全发挥不出边缘服务器响应速度快的优势。所以，如果你有境内的访问者，建议考虑使用国内的边缘平台。

## 六、腾讯云边缘平台 EdgeOne

根据官网，腾讯云的 [EdgeOne](https://cloud.tencent.com/product/teo) 是“中国云服务商首家提供安全加速一体化的边缘平台”，也是我用过的产品。

下面，我就拿它作为案例，大家可以看看，真实的边缘平台是什么样的。

![](https://cdn.beekka.com/blogimg/asset/202403/bg2024031401.webp)

作为边缘平台，需要满足三个条件。

**首先，必须有全球分布的大量节点**。EdgeOne 基于腾讯云，目前全球节点有3200+，覆盖了100+的国家与地区。不管用户在哪个地方，都能找到就近的节点。

如果某个节点饱和或发生故障，也可以切换到其他节点，保证站点的可用性。

**其次，必须有海量的带宽**，否则难以经受大访问量的冲击。EdgeOne 的总带宽达到 160Tbps+，足以抵抗最大的 DDOS 攻击。

**再次，必须集成大量功能**，方便用户使用。EdgeOne 把腾讯云的能力，几乎都搬到了边缘服务器。具体来说，它集成了以下能力。

（1）全球的 CDN 加速。它在底层对境内加速和境外加速分别作了适配，用户不再有感知。

（2）智能防护。除了使用超大带宽防御 DDOS 攻击，它还带有完备的防护措施，利用腾讯云的攻击样本库，精准分析和拦截恶意攻击，有效抵御 SQL 注入、XSS等多种攻击。

（3）云函数。只需编写简单的函数，无需考虑服务器等基础设施，就可以在边缘节点上运行自己的代码。

（4）DNS 解析服务。它的每个边缘节点上都预备域名解析能力。

（5）用户行为分析和日志记录。它会分析和监控异常流量，发现各种机器人爬虫，并提供详细的日志图表，以及各种访问者指标。

综上所诉，边缘平台实际上是一种 All in one 的产品，多种功能集于一身，并提供简单的使用接口，极大地方便了用户。

这里插一句，EdgeOne 的产品全称是“边缘安全加速平台”，在边缘平台的产品基础上，特别突出了安全和加速两大特点，作为主要的功能卖点。

## 七、边缘平台的应用案例

读到这里，大家对边缘平台是什么产品，应该已经有一个大致的了解。

你可能还会有疑问，在真实的生产环境中，它的作用到底有多大？

下面是一些从 EdgeOne 官网摘录的真实案例，大家可以感受一下边缘平台对网站表现的巨大帮助。

![](https://cdn.beekka.com/blogimg/asset/202403/bg2024031402.webp)

（1）游戏行业。某大型热门游戏用了边缘平台以后，请求耗时改善60%，同时成功防护了 DDoS 攻击，攻击的峰值流量达到 2.04Tbps。

（2）社交文娱行业。某短视频的头部平台用了边缘平台，降低20%卡顿率和50%播放失败率，在部分东南亚国家性能改善高达100%，同时全面过滤海量攻击流量，保证直播等业务正常运行。

（3）电商零售行业。在边缘平台上，电商平台可以完成所有商户域名的便捷接入，还能自动颁发和更新免费 HTTPS 证书。

（4）金融行业。边缘平台大幅提高金融服务的访问性能，保证网银、手机银行，信用卡都获得了安全加速。

（5）全球办公。边缘平台优化了国内办公系统与海外服务之间访问延迟，提供中国大陆网络优化，提高了全球一体化的办公体验。

总之，只要你的网络服务，对访问速度和安全防护都有较高的要求，就可以考虑使用边缘平台。

尤其对于那些有出海需求的国内企业，既要全球加速，又要防御各类攻击，像 EdgeOne 这样的边缘平台应该是首选的网站架构。

## 八、边缘平台动手试

最后，大家千万不要觉得，边缘平台是大企业的专用产品，个人和小企业其实也完全可以用上边缘平台。它的功能并不区分访问量的大小，都统一适用。

再说，看了这么长一篇介绍，你难道不想动手试试吗？只有亲自上手，才能真正学会。

现在正好有一个好机会，腾讯云的 EdgeOne 刚刚进行了产品更新，发布了**基础版和个人版，可以免费使用**。

这也是我写这篇文章的目的之一，希望大家去尝试一下 EdgeOne。只要你的网站每月流量不超过 50GB，请求不超过300万次，就可以免费用上边缘平台。

这里就有[一篇教程](https://cloud.tencent.com/developer/article/2346422)，教大家怎么把自己的博客放上边缘平台。如果感兴趣，想学习这种全新的网站架构，现在就可以去[它的官网](https://cloud.tencent.com/product/teo)开通服务了。

（完）
