# 科技爱好者周刊（第 329 期）：示意图利器 D2

这里记录每周值得分享的科技内容，周五发布。

本杂志[开源](https://github.com/ruanyf/weekly)，欢迎[投稿](https://github.com/ruanyf/weekly/issues)。另有[《谁在招人》](https://github.com/ruanyf/weekly/issues/5610)服务，发布程序员招聘信息。合作请[邮件联系](mailto:yifeng.ruan@gmail.com)（yifeng.ruan@gmail.com）。

## 封面图

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024121117.webp)

哈尔滨冰雪大世界即将开园，工人正在松花江上采冰，每天需要开采近万块大冰块。（[via](https://app.xinhuanet.com/news/article.html?articleId=451916149ce4dde7e6035e935eb5a37f)）

## 示意图利器 D2

制作示意图的工具有很多。

我喜欢使用基于文本代码的作图工具，来绘制线框图，比如 Mermaid、Plantuml、Graphviz。

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024121201.webp)

它们都能根据代码，生成图片，非常适合放入代码仓库，进行版本管理。

最近，我又发现了一个更易用的同类工具 [D2](https://d2lang.com)，简答直观，功能强大，下面介绍给大家。

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120613.webp)

D2 可以命令行使用，也可以浏览器使用。假定你有一个图片代码文件`example.d2`，那么生成图片的命令如下。

> $ d2 example.d2

大部分时候，我都通过浏览器使用它。它有一个线上生成器 [play.d2lang.com](https://play.d2lang.com/)（下图），把代码贴进去，按下“compile”按钮，马上生成图片。

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024121202.webp)

想要 A 节点（节点的名称为 A），直接输入 A 就可以了。

> A

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120601.webp)

A 只是节点名称，如果要定制节点的内容，就像下面这样写。

> A: 甲

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120602.webp)

接着，添加一个节点。

> A: 甲 
> B: 乙

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120603.webp)

把它们连起来。

> A: 甲 
> B: 乙
> A -> B

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120604.webp)

连接可以用正箭头（`->`）、也可以用反箭头（`<-`），甚至双向箭头（`<->`）。如果不需要箭头，就直接连线（`--`）。

箭头上还能添加文字。

> A: 甲 
> B: 乙
> A -> B: 连接

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120606.webp)

节点之间可以有多根连线。

> A: 甲
> B: 乙
> A -> B: 请求
> A <- B: 响应

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120609.webp)

节点的连接也可以写在一行。

> 甲 -> 丙 <- 乙: 连接

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120610.webp)

> 阶段一 -> 阶段二 -> 阶段三 -> 阶段四
> 阶段四 -> 阶段一: 反馈

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120611.webp)

这些语法就够画出基本的线框图了，是不是挺简单。

D2 可以绘制非常复杂的图，更多语法参考[文档](https://d2lang.com/tour/intro)。

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120614.webp)

最后提一下，如果想修改节点形状，方框改成圆形，就像下面这样写。

> A: 甲
> A.shape: circle

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120607.webp)

形状甚至可以改成一朵云，表示云服务。

> A: 甲
> A.shape: cloud

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120608.webp)

线条颜色也可以改。

> A: 甲
> A.style.stroke: red

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120612.webp)

## 科技动态

1、[深湖冷却](https://www.theglobeandmail.com/business/industry-news/property-report/article-the-worlds-largest-deep-lake-water-cooling-project-just-got-bigger/)

加拿大最大城市多伦多，就在安大略湖旁边。安大略湖是一个很深的湖，最深处达到244米。

![](https://cdn.beekka.com/blogimg/asset/202404/bg2024041412.webp)

多伦多市正在建设一个非常酷的项目，使用安大略湖底的冷水，为城市提供冷却系统。

安大略湖底部的水温是很低的，该项目从水底85米处取水，即使盛夏，温度也只有4摄氏度。

这些水经过40公里的管道，进入市中心的热交换站，生成免费的冷气。

1、[自走桌](https://www.decarpentier.nl/carpentopod)

一位国外工程师，制作了一张会自己行走的桌子。

![](https://cdn.beekka.com/blogimg/asset/202409/bg2024091217.webp)

这张木头桌子有12条腿，每次可以移动三条腿，每条腿都用电机驱动。

![](https://cdn.beekka.com/blogimg/asset/202409/bg2024091218.webp)

桌子内部有无线接收器，用来接收遥控信号。远端发出遥控命令，并计算出移动哪几条腿，每条腿移动的角度和幅度。

![](https://cdn.beekka.com/blogimg/asset/202409/bg2024091219.webp)

4、[瘫痪网络的机器狗](https://www.tomshardware.com/tech-industry/big-tech/dog-like-robot-jams-home-networks-and-disables-devices-during-police-raids-dhs-develops-neo-robot-for-walking-denial-of-service-attacks)

很多犯罪分子都在屋外装了摄像头，监控室外的风吹草动。

![](https://cdn.beekka.com/blogimg/asset/202407/bg2024072405.webp)

美国国土安全部研发了一款机器狗，它的唯一作用就是瘫痪目标的无线通信。

![](https://cdn.beekka.com/blogimg/asset/202407/bg2024072406.webp)

机器狗配备了一个天线阵列，接近目标后，会侦测周围无线信号的频率和信道，然后发送大量干扰信号，使得网络堵塞，无法通信。

所有无线通信的智能家居设备，从而都会失效，包括摄像头。

1、[无豆咖啡](https://www.bbc.com/news/articles/c4gv0rvx0dvo)

一些西方公司最近推出“无豆咖啡”，就是不使用咖啡豆制作的咖啡。

![](https://cdn.beekka.com/blogimg/asset/202409/bg2024091303.webp)

它采用废弃的枣子或果核，提取生物质，然后添加提取自茶叶的咖啡因，使其具有咖啡的味道。

因此，它比较环保，可以减少食物垃圾，也不必破坏森林种植咖啡树。

![](https://cdn.beekka.com/blogimg/asset/202409/bg2024091304.webp)

据说，它的味道非常接近优质咖啡，普通人喝不出差异。只是成本还不便宜，略高于传统的优质咖啡豆。

1、[从地图上删除巴士线路](https://www.theguardian.com/world/2024/apr/16/barcelona-bus-route-removed-map-apps-tourist-overcrowding-park-guell)

桂尔公园（下图）是巴塞罗纳的第二大景点，每天都挤满了世界各地的游客。

![](https://cdn.beekka.com/blogimg/asset/202404/bg2024041704.webp)

很多游客乘坐116路公交车去公园，周围居民意见很大。每趟车都挤满了游客，本地居民反而挤不上去。

![](https://cdn.beekka.com/blogimg/asset/202404/bg2024041705.webp)

他们想了一个办法，让市议会出面，要求谷歌地图和苹果地图删除116路公交车。

这招非常有效，从此以后，就几乎没有外地人乘坐这辆车了，座位都空出来了。这反映了一个现实，在如今这个年代，如果你不存在于数字世界，就没人知道你的存在。

## 文章

1、[CSS 重置（2024版）](https://www.joshwcomeau.com/css/custom-css-reset/)（英文）

![](https://cdn.beekka.com/blogimg/asset/202410/bg2024102501.webp)

作者提出，最新的 CSS 重置（CSS reset）只需要9条规则，每一条都详细解释。

1、[Monokai 的历史](https://monokai.pro/history)（英文）

![](https://cdn.beekka.com/blogimg/asset/202410/bg2024103102.webp)

本文介绍流行的代码编辑器配色方案 Monokai 的诞生历史。

1、[并发运行（Concurrency）和并行运行（Parallelism）：以 JavaScript 为例](https://www.rugu.dev/en/blog/concurrency-and-parallelism/)（英文）

![](https://cdn.beekka.com/blogimg/asset/202409/bg2024091302.webp)

本文解释并发和并行的区别，然后给出 JavaScript 的示例。

1、[直接链接网页的某段文本](https://alfy.blog/2024/10/19/linking-directly-to-web-page-content.html)（英文）

![](https://cdn.beekka.com/blogimg/asset/202410/bg2024102409.webp)

浏览器现在支持，URL 直接链接到网页的某段片段（text fragment）（上图的高亮部分），本文介绍如何使用。

1、[了解多重 DNS](https://blog.hyperknot.com/p/understanding-round-robin-dns)（英文）

![](https://cdn.beekka.com/blogimg/asset/202410/bg2024102705.webp)

多重 DNS 就是同一个域名有多个 DNS 解析记录，可以均衡负载。作者就测试了，均衡负载是否真能生效。

1、[感知器是什么](https://medium.com/@vincentlambert0/it-all-started-with-a-perceptron-86bd0fb80b96)（英文）

![](https://cdn.beekka.com/blogimg/asset/202410/bg2024102908.webp)

本文解释神经网络的基础概念“感知器”（Perceptron）。

1、[如何包装 try...catch](https://nalanj.dev/posts/safe-assignment/)（英文）

![](https://cdn.beekka.com/blogimg/asset/202409/bg2024091403.webp)

JavaScript 语言的 try...catch 用起来非常不直观，作者提供了一种方法，将其包装成函数用法。

1、[iTerm2 的一些鲜为人知的功能](https://danielde.dev/blog/iterm2-features-i-find-useful)（英文）

![](https://cdn.beekka.com/blogimg/asset/202409/bg2024091704.webp)

iTerm2 是 Mac 平台的终端模拟器，功能很强大，但是很多人都没有用到。

## 工具

1、[EasyTransfer](https://github.com/WCY-dt/EasyTransfer)

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120701.webp)

开源的文件传输工具，匿名加密，只需访问网页，即可连接到其他设备，基于 webRTC 和 Vue.js，访问[试用网址](https://file.ch3nyang.top)。（[@ch3ny4ng](https://github.com/ruanyf/weekly/issues/5653) 投稿）

2、[Screen Sharing](https://screensharing.net)

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120702.webp)

从浏览器分享你的屏幕给其他人，适合用来演示。（[@markliuyuxiang](https://github.com/ruanyf/weekly/issues/5657) 投稿）

3、[PMAtron](https://github.com/maskerprc/pmatron)

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024121001.webp)

将 phpMyAdmin 用 Electron 封装成跨平台桌面软件。（[@MaskerPRC](https://github.com/ruanyf/weekly/issues/5666) 投稿）

4、[FastExcel](https://github.com/CodePhiliaX/fastexcel)

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024121003.webp)

基于 Java 语言的 Excel 文件解析工具，可以用来提取数据。（[@JerryFan626](https://github.com/ruanyf/weekly/issues/5671) 投稿）

5、[Readest](https://github.com/chrox/readest)

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120703.webp)

一款开源电子书阅读器，跨平台桌面应用，基于 Next.js 15和 Tauri v2。（[@chrox](https://github.com/ruanyf/weekly/issues/5663) 投稿）

6、[IMG2AVIF](https://img2avif.com)

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024121203.webp)

一个网页工具，将各种格式的图片转成 AVIF 格式。（[@malagebidi](https://github.com/ruanyf/weekly/issues/5678) 投稿）

1、[YT Pics](https://www.ytpics.com/)

![](https://cdn.beekka.com/blogimg/asset/202402/bg2024021106.webp)

一个 Web 应用，输入 YouTube 网址和指定时间，它会自动截取该时间的截图。

1、[Web2pdf](https://github.com/dvcoolarun/web2pdf)

一个命令行工具，将网页保存成 PDF 文件，有很多增强功能（自定义样式、生成目录等）。

1、[CheerpJ](https://labs.leaningtech.com/blog/cheerpj-3.0)

![](https://cdn.beekka.com/blogimg/asset/202402/bg2024021302.webp)

浏览器里面的 JVM 编译器，让 Java 程序可以在浏览器运行。

1、[fuzzy-search](https://github.com/m31coding/fuzzy-search)

一个前端的模糊搜索库，支持东亚语言。

1、[Bruno](https://www.usebruno.com/)

![](https://cdn.beekka.com/blogimg/asset/202310/bg2023100208.webp)

一个类似 Postman 的开源 IDE，用来开发调试 API。类似的工具还有 [HTTPie Desktop](https://github.com/httpie/desktop)。

1、[QR Code Generator](https://fietkau.software/qr)

![](https://cdn.beekka.com/blogimg/asset/202409/bg2024090102.webp)

一个网页应用，可以定制二维码的颜色、斑点、徽标。

1、[WatchYourLAN](https://github.com/aceberg/WatchYourLAN)

![](https://cdn.beekka.com/blogimg/asset/202409/bg2024090103.webp)

一个开源的网页应用，用来扫描局域网的 IP 分配，可以发送主机上线和掉线的通知。

1、[history4feed](https://github.com/muchdogesec/history4feed)

一个自动从 Feed 抓取全文的工具，需要自己搭建服务。它本身只提供 API，参见[教程](https://www.dogesec.com/blog/full_text_rss_atom_blog_feeds/)。 

1、[Fuse.js](https://www.fusejs.io/)

![](https://cdn.beekka.com/blogimg/asset/202312/bg2023120701.webp)

一个轻量级的模糊搜索库，前端和后端都可以用。这里有一篇与 Next.js 结合使用的[教程](https://konfigthis.com/blog/how-to-implement-free-fast-local-search-with-fuse-js-with-next-js-ssr)。

1、[tshark](https://termshark.io/)

![](https://cdn.beekka.com/blogimg/asset/202312/bg2023120706.webp)

一个终端里面的数据表分析器，类似 Wireshark，可以查看本机通信。

1、[upiano](https://github.com/eliasdorneles/upiano)

![](https://cdn.beekka.com/blogimg/asset/202308/bg2023081012.webp)

在命令行下模拟钢琴弹奏。

## AI 相关

1、[BabelDuck](https://github.com/Orenoid/BabelDuck)

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024121002.webp)

基于 AI 的口语对话练习应用。（[@Orenoid](https://github.com/ruanyf/weekly/issues/5669) 投稿）

2、[AIGIF](https://aigif.net)

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024121204.webp)

GIF 动图搜索，可对图片人物换脸。（[@markliuyuxiang](https://github.com/ruanyf/weekly/issues/5682) 投稿）

3、[Imagenie](https://github.com/zhongweili/imagenie)

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024121206.webp)

跨平台的桌面应用，使用 AI 在本地处理图片，比如人像修复、超分辨率放大、背景移除。（[@zhongweili](https://github.com/ruanyf/weekly/issues/5688) 投稿）

## 资源

1、[启动过程：Android 与 Linux](https://xdaforums.com/t/info-boot-process-android-vs-linux.3785254/)

![](https://cdn.beekka.com/blogimg/asset/202401/bg2024011705.webp)

这篇文章记录了 Linux 和 Android 各自的系统启动顺序。

2、[深入高可用系统原理与设计](https://www.thebyte.com.cn)

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024121205.webp)

开源的中文电子书，梳理网络、云、容器、集群等知识。（[@isno](https://github.com/ruanyf/weekly/issues/5683) 投稿）

1、[English News in Levels](https://englishnewsinlevels.com)

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024121207.webp)

英语新闻分级阅读网站，实时更新新闻，分为三种难度，有重点词汇、理解测试和朗读音频。（[@meterscao](https://github.com/ruanyf/weekly/issues/5699) 投稿）

1、[GitHub Weekly](https://iohub.inshub.cn)

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024121208.webp)

这个网站将周刊讨论区的投稿，转成新闻卡片形式呈现。（[@inshub](https://github.com/ruanyf/weekly/issues/5701) 投稿）

1、[欧洲夜班火车地图](https://back-on-track.eu/night-train-map/)

![](https://cdn.beekka.com/blogimg/asset/202411/bg2024110910.webp)

这个网页的设计制作，让人过目难忘，可以借鉴。点击线路，会有详细信息的弹窗。

1、[椭圆曲线加密](https://github.com/elikaski/ECC_Attacks)（Elliptic Curve Cryptography）

![](https://cdn.beekka.com/blogimg/asset/202411/bg2024110905.webp)

这个英文仓库有椭圆曲线加密的简单介绍。

1、[A Soft Murmur](https://asoftmurmur.com/)

![](https://cdn.beekka.com/blogimg/asset/202411/bg2024111011.webp)

一个背景音网站，可以开关不同的音效，并调节它们的音量。

1、[网络浏览器工程](https://browser.engineering/index.html)（Web Browser Engineering）

![](https://cdn.beekka.com/blogimg/asset/202410/bg2024101603.webp)

免费阅读的英文电子书，讲解浏览器的工作原理，使用 Python 脚本作为示例，实现一个简单浏览器。

## 图片

1、[密室照片](https://blog.archive.org/2024/06/01/the-backrooms-of-the-internet-archive/)

2010年，美国互联网上流传一组密室照片，看上去非常空旷神秘。

![](https://cdn.beekka.com/blogimg/asset/202406/bg2024060904.webp)

![](https://cdn.beekka.com/blogimg/asset/202406/bg2024060905.webp)

它们没有任何说明，不知道是在哪里拍的，也不知道是谁拍的。

这反而激起了网友的转贴。有人甚至传说，这是无限空间的照片，昏黄的灯光，陈旧潮湿的地毯，黄色的荧光灯和墙壁，无限的空房间，没有任何窗户，你被困在里面。

![](https://cdn.beekka.com/blogimg/asset/202406/bg2024060906.webp)

它们成为了很多电影和游戏的灵感，比如《命运规划局》、《黑暗城市》、《异次元杀阵》。

通过互联网档案馆的努力，现在终于查明，这组照片是一家家具店的二楼，正在进行翻新，一间间的小房间正是家具的陈列室。

![](https://cdn.beekka.com/blogimg/asset/202406/bg2024060907.webp)

1、[红绿色盲](https://www.theverge.com/23650428/colorblindness-design-ui-accessibility-wordle)

红绿色盲的患者，看不到红色和绿色。在他们眼里，这两种颜色都会变成黄色。

下面是一半红、一半绿的树叶。

![](https://cdn.beekka.com/blogimg/asset/202304/bg2023040802.webp)

红绿色盲患者看到的却是一张黄色树叶。

![](https://cdn.beekka.com/blogimg/asset/202304/bg2023040803.webp)

大概每20个人里面，就有一个人有色盲或色弱问题。所以，设计界面的时候，使用红色或绿色必须非常谨慎，因为红绿色盲患者分不清。

下面的日历使用绿色和粉红色，表示特殊的日期。

![](https://cdn.beekka.com/blogimg/asset/202304/bg2023040804.webp)

但是，红绿色盲患者看到的是下面这样，根本分不清。

![](https://cdn.beekka.com/blogimg/asset/202304/bg2023040805.webp)

## 文摘

1、[大众审美](https://www.alexmurrell.co.uk/articles/the-age-of-average)

（一）

1990年代初期，两位俄罗斯艺术家聘请了一家市场研究公司，做一个市场调查，了解美国人最想要的艺术品是什么。

11天的时间里，这家公司询问了1,001名美国公民。

- 你最喜欢的颜色是什么？
- 你喜欢锐利的曲线还是柔和的曲线？
- 你喜欢光滑的笔触还是厚重的笔触？
- 你喜欢裸体还是穿着衣服的人物？
- 你喜欢休闲的人物还是工作的人物？
- 你喜欢室内场景还是室外场景？
- 你喜欢什么样的风景？

两位艺术家得到调查结果后，就会画一幅画，完全符合大多数人的偏好。

后来，他们又在其他国家做这个调查，得到一个令人震惊的结果：每个国家的大众偏好，几乎都是一致的。

> “几乎在每个国家，人们想要的都是风景画，周围有几个人物，前景是动物，主要色调是蓝色。”

他们根据11个不同国家的调查结果，画出来的画看上去几乎一样。

![](https://cdn.beekka.com/blogimg/asset/202303/bg2023032914.webp)

这件事反映了一个趋势，就是从电影到时尚，从建筑到广告，全世界的大众审美开始趋向雷同，独特性越来越少。

2011年，一个设计师在 AirBnB 上面寻找公寓。

结果，她发现世界各地的公寓，装潢风格很多都是雷同的，反映了一种 AirBnB 美学：白墙、原木、胶囊咖啡机、扶手椅、裸砖、木搁板、灯泡。

这是一种既有工业主义的粗犷原始，又有古典的优雅极简主义的风格。

![](https://cdn.beekka.com/blogimg/asset/202303/bg2023032915.webp)

这种风格还影响到了咖啡店。

世界各地的咖啡店（包括餐厅），都慢慢变得相似：粗糙的木桌、宽大的窗户、朴素的吊灯。

![](https://cdn.beekka.com/blogimg/asset/202303/bg2023032916.webp)

## 言论

5、

我生活中一切顺利的事情都遵循相同的过程。我关注自己喜欢的​​事情，找到多做这些事情的方法。我让有趣的人很容易发现我在做这些事情，然后我和他们一起出去玩，一起做项目。

-- [亨里克·卡尔森](https://www.henrikkarlsson.xyz/p/unfolding)

1、

伟大的科学家是想法大胆的人，但是对自己的想法同时持有高度批判的态度。接受自己的猜想之前，他们首先会严厉尝试反驳它。

-- [卡尔·波普尔](https://igorpak.wordpress.com/2020/12/10/what-if-they-are-all-wrong/)，科学哲学家

1、

作为一个至少用过十几种语言进行过商业开发的程序员，我完全不同意有人说，一种语言的开发速度优于另一种语言。

语言的开发速度因人而异，符合程序员的个人经历和思维习惯的语言，开发速度最快。

-- [Hacker News 读者](https://news.ycombinator.com/item?id=41616851)

1、

驯化综合症指的是，野生动物被驯化后，它们的后代往往发生一些显著的变化，比如体型变小，攻击性变小，耳朵出现下垂，口鼻变短，牙齿变小，繁殖周期延长，体重减轻。

-- [维基百科](https://en.wikipedia.org/wiki/Domestication_syndrome)

1、

我长期以来一直认为地球是一个“水星球”，直到我做了数学计算，才意识到地球实际上是太空中的一块湿岩石，更像是用喷雾瓶喷十几次的保龄球。

-- [Hacker News 读者](https://news.ycombinator.com/item?id=41238102)
