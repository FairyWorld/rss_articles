# 周刊备用

## JSON 模块

import 命令目前只能用于加载 ES 模块，现在有一个[提案](https://github.com/tc39/proposal-json-modules)，允许加载 JSON 模块。

假定有一个 JSON 模块文件`config.json`。

```javascript
{
  "appName": "My App"
}
```

目前，只能使用`fetch()`加载 JSON 模块。

```javascript
const response = await fetch('./config.json');
const json = await response.json();
```

import 命令能够直接加载 JSON 模块以后，就可以像下面这样写。

```javascript
import configData from './config.json' assert { type: "json" };
console.log(configData.appName);
```

上面示例中，整个 JSON 对象被导入为`configData`对象，然后就可以从该对象获取 JSON 数据。

`import`命令导入 JSON 模块时，命令结尾的`assert {type: "json"}`不可缺少。这叫做导入断言，用来告诉 JavaScript 引擎，现在加载的是 JSON 模块。你可能会问，为什么不通过`.json`后缀名判断呢？因为浏览器的传统是不通过后缀名判断文件类型，标准委员会希望遵循这种做法，这样也可以避免一些安全问题。

导入断言是 JavaScript 导入其他格式模块的标准写法，JSON 模块将是第一个使用这种语法导入的模块。以后，还会支持导入 CSS 模块、HTML 模块等等。

动态加载模块的`import()`函数也支持加载 JSON 模块。

```javascript
import('./config.json', { assert: { type: 'json' } })
```

脚本加载 JSON 模块以后，还可以再用 export 命令输出。这时，可以将 export 和 import 结合成一个语句。

```javascript
export { config } from './config.json' assert { type: 'json' };
```

1、[无人机犯罪](https://english.elpais.com/spain/2021-07-15/spanish-police-seize-large-drone-used-to-carry-drugs-from-morocco.html)

西班牙警方发现，有人从摩洛哥放飞一架巨大的无人机，越过西班牙边境，运送毒品。

该无人机为中国生产，宽4.5米，可以载重150公斤，最高飞行速度 170 公里/小时，续航 7 小时，价格在3万欧元到15万欧元之间。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021072206.jpg)

这架无人机故意飞得很低，防止穿越国境时，被雷达发现。但是，它是远程遥控的，接受无线电信号，警方正是通过异常的无线电信号发现了它。

1、[手机学习网页开发](https://www.linkedin.com/posts/shubham-sharma-34bbab18b_webdevelopment-css-html-activity-6820715919568961536-WApS/)

一个尼泊尔老师在网上贴出照片，他的学生没有笔记本电脑，只能通过手机学习网页开发，经过两个月，已经初步掌握 HTML、CSS 和 JS。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021072205.jpg)

1、[好友关系的数据库设计](https://minimalmodeling.substack.com/p/modeling-mutual-friendship)（英文）

用户互相加为好友，数据库应该怎么设计，才能方便以后查询和删改？

1、[MoviePy](https://github.com/Zulko/moviepy)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021072204.jpg)

一个视频编辑的 Python 库，可以方便地编写脚本，进行各种视频操作，基于 ffmpeg。

1、[网页暗模式只要一行代码](https://davidwalsh.name/dark-mode-invert-filter)（英文）

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021072111.jpg)

本文介绍如何使用一个 CSS 命令，反转网页颜色。

1、[kit](https://github.com/cuishuang/kit)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021072109.jpg)

一个 PHP 小工具，用来列出 MySQL 的结构信息。（[@cuishuang](https://github.com/ruanyf/weekly/issues/1850) 投稿）

1、[PostgreSQL 数据库的变化捕获和实时通知](https://kaifeiji.cc/post/change-data-capture-and-instant-notification-on-postgresql-via-listen-notify-and-server-sent-events/)（中文）

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021072108.jpg)

数据库发生变化时，如何通知前端？本文以 PostgreSQL 数据库为例，介绍了作者的解决方案。（[@kaifeiji](https://github.com/ruanyf/weekly/issues/1854) 投稿）

1、[Yozora](https://github.com/yozorajs/yozora/blob/main/README-zh.md)

一个高度可扩展的、插件式的 Markdown 解析器，用于生成 Markdown AST（抽象语法树），可以在它的基础上，定制自己的 Markdown 解析器。（[@guanghechen](https://github.com/ruanyf/weekly/issues/1855) 投稿）

1、[KubeSphere](https://github.com/ruanyf/weekly/issues/1849)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021072107.jpg)

一个国产的 Kubernetes 集群管理平台，操作容器的利器，功能强大，界面清爽易用，大大方便了 k8s 的使用。（[@FeynmanZhou](https://github.com/ruanyf/weekly/issues/1849) 投稿）

1、[CORNERSTONE](https://www.cornerstone365.cn/)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021072106.jpg)

一个企业级的项目管理和协作平台，20人以下的团队免费。（[@cornerstone-365](https://github.com/ruanyf/weekly/issues/1245) 投稿）

1、[wifi-card](https://github.com/bndw/wifi-card)

（[@dllen](https://github.com/ruanyf/weekly/issues/1848) 投稿）

1、[交通信号灯](https://www.fastcompany.com/90655753/the-traffic-light-gets-a-dazzling-21st-century-makeover)

1914年，美国城市克利夫兰安装了人类第一个交通信号灯，从那时到现在，基本样子没变过。一家俄罗斯设计公司，最近提出了21世纪新的信号灯设计。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021072101.jpg)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021072102.jpg)

这种信号灯就是一整块液晶面板，通过背景色提示红灯、黄灯和绿灯，并用勾、叉和感叹号等符号，加强注意力。它还会显示剩余的秒数，以及绿灯时可通行的道路走向。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021072103.jpg)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021072104.jpg)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021072105.jpg)

1、

软件项目和其他工程项目有一个重要区别，就是项目执行期间可能发生重大变更。举例来说，如果你正在建造一架飞机，没人会在造到一半时告诉你，他们希望这架飞机能够飞出大气层，进入太空。但在软件项目中，这是可能的，IT 公司的特点就是业务逻辑一切皆有可能，如果你建造的东西会飞，那么业务方就会觉得，它应该飞到任何想要去的地方。

-- [《复杂项目 101》](https://vadimkravcenko.com/en/dealing-with-complex-projects/)

1、

[《纽约时报》](https://www.nytimes.com/2021/07/19/technology/tiktok-resumes-jobs.html)报道，越来越多的美国年轻人拍一段自己的短视频，放在 TikTok 上面求职。这比 A4 纸的简历效果好多了，值得借鉴。大家完全可以在简历上印一个视频的二维码。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021072001.jpg)

1、[农村的厕所应该长什么样？](https://mp.weixin.qq.com/s/J0w7_rd40_L9hB6Z1yLmjw)（中文）

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071907.jpg)

本文介绍中国的一些年轻建筑师，正在尝试重新设计农村的厕所。乡村没有给排水管网，厕所的水从哪里来？污水往哪里排放？而且，乡村厕所往往是在建筑外部的一个单独空间，尤其是北方，冬天如何保温？难道单独为厕所供暖？

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071908.jpg)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071909.jpg)

1、[3D 打印的汽车配件](https://www.motor1.com/news/513312/ford-maverick-3d-print-accessories/)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071905.jpg)

福特公司在美国新推出的 Maverick 皮卡汽车，车内的大量配件都没有提供实物，而是提供了 STL 源码文件，让车主自己去 3D 打印。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071906.jpg)

可以打印的配件包括杯架、储物箱、垃圾桶、绳索组织器、挂袋的双钩、座椅下的储物隔板等等。福特公司说，还会发布更多可 3D 打印的配件。

这样做有几个好处，一是降低了车辆的出厂价格，二是用户可以根据自己的喜好，决定打印哪些配件，以及使用什么材质。另外，外部厂商也可以根据公开的接口，生产第三方配件。

1、[时速600公里的磁浮列车](https://new.qq.com/omn/20210719/20210719A01BIW00.html)

7月20日，四方机车公司在青岛发布世界首套时速600公里的磁浮列车。一旦投入应用，这将是当前世界速度最快的地面交通工具，北京到上海仅需2.5小时。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071904.jpg)

磁悬浮列车的最大困难，在于造价大大高于高铁，以及与现有轨道不兼容，需要重新建设，很可能是全程高架。另外，由于速度太快，路线必须尽量保持直线。

1、[错误的面试答案，让我得到了工作](https://dewitters.com/i-had-to-give-a-wrong-answer-to-get-the-job/)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071903.jpg)

2007年，我去一家公司应聘程序员。当时，应聘成功的最佳策略，就是对一个问题给出错误的答案。你可能觉得很奇怪，让我解释一下怎么回事。

面试官有两个人，除了技术团队的负责人，还有一个公司经理。后者是前者的上级，前者负责对我提问。

回答了几个一般性的问题之后，我被问到什么是“三层架构”。

我回答说，“三层架构”就是客户端-服务器-数据库。并且，我还补充说 Web 浏览器就是最常见的 瘦客户端。他们似乎对我的回答很满意。

他们接着问：“这个架构与 MVC 模式（模型-视图-控制器）有什么关系？”

我知道，这个问题有一点麻烦。大多数人都会将两者等同起来，但是实际上，MVC 模式只用于中间的“应用程序”层，并不涉及客户端和数据库。

另外，维基百科解释得很好：“三层架构”的一个基本规则是，客户端层不直接与数据层通信，所有通信都必须通过中间层。因此，从概念上讲，三层架构是线性的。然而，MVC 模式是三角形的：视图层向控制器发送更新，控制器更新模型，模型的更新又直接触发视图的更新。

但是我怀疑，面试官可能只是想要大多数人的答案，或者说，他们认为的正确答案，可能跟我想的不一样。要是我当面指出技术负责人的错误，而他的老板又在一旁，就等于在老板面前让他丢脸。因此，要么他会坚持自己的立场，拒绝我的正确答案，挽回自己的面子，要么他承认自己错了，当众丢脸。我最后决定，我必须回答他们眼中正确的答案。

我先试探着，说出我的正确答案，看看对方的反应。“ MVC 模式是一种软件模式，属于代码的组织形式，大多数情况下，仅在应用程序层上运行……”

我看到技术负责人皱着眉头，所以猜想这不是他预期的答案。我就改口说：“视图对应用户界面，控制器对应应用层，模型对应数据库”。

搞定！回答正确！大家都很高兴，我得到了这份工作。

这个故事告诉我们，面试不仅仅需要技术技能，还需要人际交往能力。这也没错，因为工作中确实两者都需要。

1、[谷歌是否索引 CSS 文本内容](https://www.searchcandy.uk/seo/technical-seo/css-pseudo-elements/)（英文）

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071901.jpg)

CSS 可以通过伪元素向网页添加文本内容，作者做了一个实验，看看搜索引擎谷歌会不会索引 CSS 引入的文本。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071802.jpg)

东京奥运会的运动员宿舍，两人一间。看上去有点简陋，都没有为每个人配一张桌子，只有床头柜，上面也没有放一个吉祥物或者绿植。（[via](https://hk.asiatatler.com/life/tokyo-olympic-games-athletes-village)）

1、

一位设计师[提出](https://twitter.com/neilsardesai/status/1416527160794361868)，浏览器的窗口标签应该可以配置，放置在左右两侧，就像活页夹一样。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071801.jpg)

这种设计可能很适合宽屏。

1、

经常有人问我：“未来 10 年会发生什么变化？” 但是，几乎从没人问我：“未来 10 年什么不会改变？” 第二个问题实际上更重要，因为只有基于稳定的事物，我们才能制定业务战略。

-- 贝佐斯，亚马逊老板

1、

我担心未来的技术会让美国的电影人以数字方式复制我的动作，再套上任何演员的脸。我一生都在训练，我们武者只会越来越老，他们却可以永远拥有我的动作，变成他们的知识产权，所以我拒绝与他们合作。

-- [李连杰](https://www.scmp.com/abacus/culture/article/3028904/jet-li-says-he-rejected-matrix-because-he-didnt-want-his-kung-fu)，谈为什么拒绝出演《黑客帝国》续集

1、 [SQL Bolt](https://sqlbolt.com/)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071714.jpg)

一个交互式的在线教程，一共19课，从零开始讲授 SQL 知识，如何查询数据库。

1、

向别人销售东西时，要把它说得很复杂，人们愿意为复杂的东西买单；说服别人时，要把内容说得很简单，越复杂的东西，能说服的听众就越少。

-- [《太聪明的人，为何不容易沟通》](https://www.collaborativefund.com/blog/too-smart/)

1、[Public API Lists](https://github.com/public-api-lists/public-api-lists)

这个 GitHub 仓库收集了各种专供软件开发使用的免费 API。

1、[世界上最长的钢琴](https://www.alexanderpiano.nz/page/the-alexander-piano)

钢琴的音质与琴弦的长度有关。琴弦越长，振动越慢，就能发出越低频的声音，所以高级的三角钢琴，琴身都不短于2.3米。

一个新西兰青年阿德里安不禁突发奇想，如果制造一个特别长的钢琴，不就可以发出非常低的音频吗。他决定自己来造，从图书馆找到资料，在钢琴师傅的指导下，可以动手建造。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071706.jpg)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071707.jpg)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071708.jpg)

最后，他造出了世界上最长的钢琴，长度接近10米。他说，无法造得更长了，因为他家的车库只有这么大。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071704.jpg)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071705.jpg)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071709.jpg)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071710.jpg)

这架钢琴吸引了很多音乐家专程来演奏，还灌制了唱片。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071711.jpg)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071712.jpg)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071713.jpg)

1、[为什么人眼对蓝色不易聚焦](https://calebkruse.com/10-projects/seeing-blue/)（英文）

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071703.jpg)

一篇很奇怪的文章，解释为什么人眼对蓝色不易聚焦，更容易对红色和绿色聚焦。作者举了一个例子，上图的蓝色通道全部都进行了模糊，但是几乎不影响清晰度。但是上图中，蓝色主要是海洋，本来也没有多少细节。

1、[坦克图纸](https://ukdefencejournal.org.uk/classified-challenger-tank-specs-leaked-online-for-videogame/)

《战争雷霆》（(War Thunder）是一款多人对战游戏，玩家使用各种真实存在的武器，参加历史上的各种战争。

最近，有一个自称军人的玩家认为，游戏里面的“挑战者 2“（Challenger 2）坦克（下图）与实物有差异，就在游戏论坛上传了真实的坦克设计图纸，要求游戏公司据此更正。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071702.jpg)

但是，这辆坦克仍然是英国军队的主站坦克，所有设计图纸都是保密的。游戏公司几天后发布了声明：”我们已经收到国防部的书面确认，该文件仍然保密。如文件封面上的警告所述，传播该文件违反了《保密法》，最高可处 14 年的监禁。“

1、[汽油味香水](https://electrek.co/2021/07/15/ford-petrol-scent-for-electric-cars-barrier-ev-adoption/)

福特汽车的一项调查发现，五分之一的司机表示，他们在电动汽车上，闻不到汽油味，感到不适应。近 70% 的人说，他们某种程度上想念汽油味。

福特汽车因此创造了一种新的香水，“混合了淡淡的汽油味、烟熏味和橡胶味。”

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071701.jpg)

1、[CSS 检测支持悬停的设备](https://css-irl.info/detecting-hover-capable-devices/)（英文）

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071607.jpg)

鼠标有悬停（hover）这个动作，无法使用鼠标的移动设备，则没有这个动作。本文介绍如何使用 CSS 为支持悬停的设备，指定特有样式。

1、

科幻小说《三体》提出，宇宙就像一个黑暗森林，外星文明可能充满敌意，所以最好不要暴露自己。

但是在不久的将来，由于核战争、全球变暖、流氓 AI 或其它原因，消灭我们人类的可能不是外星文明，而是我们自己。我们似乎就是那些对人类怀有敌意的外星人。

-- [Hacker News 读者](https://news.ycombinator.com/item?id=27855558)

1、[核动力俄罗斯方块](https://www.hackster.io/news/this-nuclear-powered-game-boy-will-run-for-a-century-d3c1cb3c53e9)

氢元素的同位素“氚”具有放射性，将氚气充入涂有含磷荧光粉的玻璃管，密封后就可以做成氚管，对人体无害。氚气会不断释放出少量的电子流，使得荧光粉发出各种颜色的光，这就是夜光设备的原理。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071605.jpg)

一个美国发明家突发奇想，将氚管放在太阳能电池上面，用它发出的光进行光伏发电，接入一个俄罗斯方块游戏机。由于氚管的光实在太微弱，需要充电两个月，才能玩一个小时。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071606.jpg)

这属于核能发电，所以就是核动力的俄罗斯方块。氚的半衰期是12.43年，供电可以持续几十年。

1、[Mac 专用机械键盘](https://www.theverge.com/2021/7/16/22579847/epomaker-nt68-wireless-mechanical-keyboard-laptop-macbook)

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071603.jpg)

很多人不喜欢笔记本电脑的键盘，打字感觉不如机械键盘。一家英国的键盘公司，发明了一种便携式机械键盘，可以套在 Mac 笔记本键盘上方，布局跟笔记本键盘完全一样。

这样的话，既提供了良好的打字手感，又不必适应不同的键盘布局。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071604.jpg)

1、[最喜欢喝可乐的地方](https://mexiconewsdaily.com/news/with-average-daily-consumption-of-2-2-liters-of-coca-cola-chiapas-leads-the-world/)

墨西哥最贫穷的恰帕斯州，是世界上含糖饮料（主要是可口可乐）消费量最高的地方。根据2019年的统计，当地居民每人每年平均饮用 821.25 升饮料，相当于每天 2.2 升。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071601.jpg)

原因是当地公共设施非常落后，无法提供清洁的饮用水。可口可乐在该州正好有一家巨大的装瓶厂，以很便宜的价格出售饮料。所以，当地男女老少几乎都将可口可乐替代饮用水，甚至有些婴儿在应该只喝母乳的时候，他们的母亲给了他们喝可口可乐。

![](https://cdn.beekka.com/blogimg/asset/202107/bg2021071602.jpg)

更糟糕的是，含糖饮料有成瘾作用，喝习惯以后，不喝的时候会想喝，喝了以后还想再喝。所以，毫不奇怪，糖尿病是该州居民的一个主要死因，每年夺走 3,000 多人的生命。但即使这样，糖尿病患者发病后，还是一直在喝可乐，他们说自己无法想象没有这种饮料的生活。





