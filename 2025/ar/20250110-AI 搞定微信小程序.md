# AI 搞定微信小程序

## 一、前言

AI 生成代码，早不是新鲜事了，但是 AI 生成微信小程序，似乎还不多见。

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024121004.webp)

究其原因，大概是小程序的开源项目较少，而且它本身又是腾讯公司专有的技术产品，模型训练不好搞。

上个月，我遇到腾讯的同学，得知“[微信云开发](https://cloud.weixin.qq.com/cloudbase)”有一个大的更新，将大幅加强小程序的 AI 能力。我还挺期待的，腾讯自己搞小程序 AI，要比其他人更合适。

后来，我有幸试用了本次更新的 AI 功能，有一个强烈的感觉，微信小程序可能很快就会成为国内 AI 应用（又称“智能体”）的主要载体。

因为本次更新以后，小程序调用 AI 模型，以及生成智能体，变得非常方便。并且，小程序从 API 到开发工具，都把 AI 整合进去了，整个开发过程都有 AI 辅助，不仅开发效率提高了，而且大量代码可以通过 AI 生成。

下面就是我的试用过程的介绍和记录。这些功能都是公开的，大部分已经上线，剩下的也即将发布，大家现在就可以跟着做，体验 AI 生成小程序。

## 二、云开发助手：进入方法

我的第一步是体验小程序的“云开发助手”（又称云开发 Copilot）。它的作用是通过 AI 加快小程序的开发。

目前，它要通过“[腾讯云开发平台](https://tcb.cloud.tencent.com)”使用。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011105.webp)

登录“云开发平台”后，页面右下角就会出现小助手图标。

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120904.webp)

点击它，就能打开“云开发助手”。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011106.webp)

它的右上角有一个“全屏”图标（下图）。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011107.webp)

点击进入完整界面。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011108.webp)

## 三、云开发助手：文档功能

“云开发助手”的主要功能如下图。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011109.webp)

这些功能可以分成两大类，一类是文档相关的功能，另一类是代码生成。

先看看文档功能。

**（1）Copilot**

AI 问答引擎，任何关于小程序的问题，都可以向它提出。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011203.webp)

这大大减少了文档查阅，有些简单的函数，可以让它生成，还能让它教你如何开发小程序。

**（2）AI 识图**

这个功能是通过上传页面截图（或者设计稿），生成需求文档。

我上传了一张抽奖的转盘。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011204.webp)

它生成了如下的需求文档，用文字详细复述了这个页面的界面布局、设计细节、功能需求等。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011205.webp)

大公司的程序员，一般都是根据产品需求文档（PRD）进行开发，所以这个功能可以简化产品经理的工作，需求文档也可以作为 AI 代码生成的文字记录保存下来。

下一步，生成的需求文档可以传入“云开发助手”，来生成页面代码，所以它也是 AI 生成小程序的中间步骤。

**（3）写需求高手**

这个功能跟“AI 识图”作用相同，都是生成需求文档，区别是它是输入文字描述。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011206.webp)

由于不需要截图，它适合只有功能需求、没有设计稿的场景，即让 AI 来设计页面。

## 四、云开发助手：AI 生成可视化应用

接着，我们就来试试，让“云开发助手”生成代码。

选择左侧菜单的 **“AI 生成可视化应用”**，这个功能就是根据截图或者文字描述，直接生成应用（Web 或者小程序）。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011302.webp)

上传一张微信页面的截图。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011207.webp)

它会自动生成该截图的页面代码，可以预览效果（下图）。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011208.webp)

可以看到，生成的页面还原了原始布局，但是有许多细节差异。

目前阶段，好像还做不到100%还原，比较适合当作代码基础，在它生成的页面基础上，进行手动细节调整。

除了上传截图，还可以输入文字描述（或者上一节的需求文档），也能生成应用。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011209.webp)

让它生成程序员的个人小程序，效果还是可以的。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011210.webp)

预览初步效果后，你可以在云开发平台上，直接线上编辑代码。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011211.webp)

编辑完这个页面以后，还可以反复这个过程，向小程序添加更多页面（下图）。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011212.webp)

有了多个页面，就能设置页面之间的跳转，这样就基本是一个可用的小程序了。

目前，云开发平台还不支持发布小程序，完成页面开发后，需要复制或者下载代码，通过微信开发工具发布。

## 五、云开发助手：AI 生成组件及其他

除了生成整个页面或应用，“云开发助手”还支持 “**AI 生成组件**”。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011303.webp)

该功能用于现有页面加入新的组件，或者让组件适配现有架构。

你可以上传截图或文字描述，让它生成组件。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011213.webp)

需要注意的是，组件目前仅支持发布到 Web，还不支持小程序。

除了这些，还剩下的三个功能属于高级功能。本文是入门文章，这里就简单提一下。

（1）**AI 编辑组件样式**：让 AI 为页面或组件生成样式，比如“添加渐变色背景”。

（2）**AI 生成云函数**：让 AI 通过后端云函数，实现业务逻辑，属于编写后段的服务器代码。

（3）**AI 生成数据模型**：让 AI 生成数据库的表结构（下图）。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011214.webp)

## 六、AI 大模型接入

上面都是介绍“云开发助手”，即 AI 辅助小程序开发。下面部分介绍，如何做出 AI 智能体的小程序，现在也变得很简单。

还是在“云开发平台”，左侧菜单选择 AI+。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011304.webp)

这时，页面会让你选择，接入大模型还是开发智能体（下图）。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011215.webp)

如果你选择开发智能体（AI Agent），后端大模型默认是腾讯的混元模型，系统会让你定制开场白、提示词、知识库（你自己的训练材料）。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011218.webp)

然后，定制前段对话组件。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011219.webp)

整个流程就基本完成了：用户在前端界面，根据开场白输入他的要求，系统将用户输入和提示词，传给后端模型，收到回复后再展示给用户。

一个简单的智能体就这样做好了。

## 七、AI 大模型接入

在上一节的 AI+ 页面，如果选择自己接入大模型，页面会根据开发类型（Web/小程序/云函数），给出接入指引。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011216.webp)

小程序 API 已经对大模型做了适配，按照指引，只要几行代码就能接入。

具体来说，从小程序基础库3.7.1开始，新增了`wx.cloud.extend`对象，专用于 AI。

> - wx.cloud.extend.AI.createModel()：用来接入大模型
> - wx.cloud.extend.AI.bot：用来调用智能体

用了这个 API，就不需要任何 SDK，也不需要后端服务器，系统直接负责 AI 接入，同时处理好鉴权、加密、流式传输，不需要用户介入。

下面是示例代码，详见[官方文档](https://docs.cloudbase.net/ai/introduce)。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011217.webp)

## 八、总结

以上就是我试用的全部内容，我的总体感觉是，这些已经做好的部分，对小程序的开发有巨大的助力。如果你正在开发小程序，一定要试试这些功能。

小程序的 AI 能力，后面还会持续扩展。腾讯有一个庞大的构想，将腾讯云的基础设施、微信小程序、AI 大模型全部打通，做成一个统一的生态。

我听腾讯的同学说，下一阶段有几个开发重点。

（1）小程序的 AI 能力并入微信 IDE，在微信 IDE 就能用 AI 生成前后端完整的小程序。

（2）加强 AI 的代码生成能力，搭配小程序模版和低码编辑器，快速生成小程序。

（3）在 AI 的帮助，无痛接入数据库和调用云函数。

（4）客户端、服务端、大模型三者之间数据交互的标准化和统一接口。

上面的每一点，都能解决目前小程序开发的痛点，期待早日看到突破。

（完）
