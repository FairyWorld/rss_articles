# AI 搞定微信小程序

## 一、前言

AI 生成代码，早不是新鲜事了，但是 AI 生成微信小程序，似乎还是一件稀罕事。

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024121004.webp)

我猜想，原因大概是，小程序的开源项目相对较少，而且它本身又是腾讯公司专有的技术产品，模型训练不好搞。

上个月，我遇到腾讯的同学，他们透露“[微信云开发](https://cloud.weixin.qq.com/cloudbase)”会有一个大的更新，将大幅加强小程序的 AI 能力。我还挺期待的，腾讯自己来搞小程序 AI，要比其他人更合适。

后来，我有幸试用了本次更新的 AI 功能，有一个强烈的感觉，微信小程序可能很快就会成为国内 AI 应用（又称“智能体”）的主要载体。

小程序调用 AI 模型，变得非常方便，从 API 到开发工具，都把 AI 整合进去了。你不仅可以简单地实现和发布智能体，整个开发过程也加入了 AI 辅助。

下面就是我试用过程的介绍和记录。这些功能都是公开的，大部分已经上线了，剩下的也即将发布。大家可以了解小程序的 AI 进展到了哪一步，也可以跟着做。

## 二、云开发助手：进入方法

我先试了小程序的 AI 助手，它通过 AI 加快小程序的开发。

它的名字是“云开发助手”（又称云开发 Copilot），目前通过“[腾讯云开发平台](https://tcb.cloud.tencent.com)” 使用。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011105.webp)

登录“云开发平台”后，页面右下角会出现小助手图标。

![](https://cdn.beekka.com/blogimg/asset/202412/bg2024120904.webp)

点击它，就能打开“云开发助手”。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011106.webp)

它的右上角有一个“全屏”图标（下图）。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011107.webp)

点击进入完整界面。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011108.webp)

## 三、云开发助手：文档功能

“云开发助手”的主要功能如下图。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011109.webp)

这些功能可以分成两大部分，一部分是文档相关的功能，另一部分是代码生成。

先看看文档功能。

**（1）Copilot**

AI 问答引擎，任何关于小程序的问题，都可以向它提出。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011203.webp)

这大大减少了查文档的时间，有些简单的函数也可以让它生成，还可以用来学习小程序的开发。

**（2）AI 识图**

通过上传页面截图，生成需求文档。

我上传了一张抽奖的转盘。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011204.webp)

它生成了如下的需求文档，用文字详细复述了这张图片的界面布局、设计细节、功能需求、其他要求。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011205.webp)

大公司的程序员，一般都是根据产品需求文档（PRD）进行开发，所以它可以简化产品经理的工作，也可以作为产品文档保存下来。

另外，生成的需求文档也可以传入“云开发助手”，让后者生成页面代码，所以也是 AI 生成小程序的中间步骤。

**（3）写需求高手**

这个功能是输入文字描述，生成需求文档。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011206.webp)

它跟前一个“AI 识图”功能差不多，适合只有功能需求、没有设计稿的场景。

## 四、云开发助手：AI 生成可视化应用

有了文档以后，就可以生成代码了。

**“AI 生成可视化应用”** 这个功能就是根据截图或者文字描述，直接生成应用。

比如，上传一张微信的截图。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011207.webp)

它会自动生成页面代码，可以预览效果。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011208.webp)

可以看到，生成的页面还原了原始页面的布局，但是有许多细节差异。我们可以把它当作代码基础，进行手动调整。

除了上传截图，还可以输入文字描述，或者上一步生成的需求文档，让 AI 生成应用。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011209.webp)

生成的效果还是不错的。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011210.webp)

下一步，你可以在云开发平台上，直接线上编辑代码。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011211.webp)

编辑完这个页面以后，还可以向小程序添加更多页面。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011212.webp)

目前，云开发平台似乎还不能发布小程序，页面编辑后，只能复制或者下载代码，再通过微信开发工具发布。

## 五、云开发助手：AI 生成组件及其他

除了生成整个页面或应用，“云开发助手”还支持 AI 生成页面里面的单个组件。

“**AI 生成组件**”功能，比较适合现有页面加入新的组件，组件需要适配现有架构。

你可以上传截图或文字描述，让它生成组件。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011213.webp)

需要注意的是，组件目前仅支持发布到 Web 页面，还不支持小程序。

除了上面这些功能，还剩下三个功能，这里简单提一下。

（1）**AI 编辑组件样式**：让 AI 生成样式代码，比如“添加渐变色背景”。

（2）**AI 生成云函数**：让 AI 通过后端云函数，实现业务逻辑。

（3）**AI 生成数据模型**：让 AI 生成数据库的表结构。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011214.webp)

## 六、AI 大模型接入

以上都是 AI 辅助小程序开发，另一方面，通过小程序发布 AI 智能体，也变得很方便。

在“云开发平台”选择 AI+，页面就会让你选择接入大模型还是开发智能体。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011215.webp)

如果你选择开发智能体，系统会让你定制开场白、提示词、知识库。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011218.webp)

然后，定制前段对话组件。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011219.webp)

整个流程就基本完成了：用户在前端界面，根据开场白输入他的要求，系统将用户输入和提示词，一起传给你指定的后端模型，收到回复后再展示给用户，一个简单的智能体就这样好了。

## 七、AI 大模型接入

上一节的 AI+ 页面，如果选择接入大模型，页面会根据开发类型（Web/小程序/云函数），给出接入指引。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011216.webp)

小程序 API 已经对大模型做了适配，按照指引，只要几行代码就能接入。

具体来说，从小程序基础库3.7.1开始，新增了`wx.cloud.extend`对象，专用于 AI。

> - wx.cloud.extend.AI.createModel()：用来接入大模型
> - wx.cloud.extend.AI.bot：用来调用智能体

用了这个 API，就不需要任何 SDK，也不需要后端服务器，系统直接负责 AI 接入，同时处理好鉴权、加密、流式传输，不需要用户介入。

下面是示例代码，详见[官方文档](https://docs.cloudbase.net/ai/introduce)。

![](https://cdn.beekka.com/blogimg/asset/202501/bg2025011217.webp)

## 八、总结

以上就是我试用的全部内容，总体感觉是，这些已经做好的部分，对小程序的开发有巨大的助力。

如果你正在开发小程序，一定要试试看这些功能。

小程序的 AI 能力，目前只是非常初步的阶段，后面还会持续有巨大的扩展。腾讯有一个庞大的构想，将腾讯云的基础设施、微信小程序、AI 大模型全部打通，做成一个统一的开发者平台。

我听腾讯的同学说，下一阶段的改进主要是下面几点。

（1）小程序的 AI 能力并入微信 IDE，在微信 IDE 就能生成前后端完整的小程序。

（2）加强 AI 代码生成能力，搭配小程序模版和低码编辑器，快速生成小程序。

（3）在 AI 的帮助，无痛接入数据库和调用云函数。

（4）客户端、服务端、大模型三者之间数据交互的标准化和统一接口。

上面的每一点，都是目前小程序开发的痛点和瓶颈，期待能够早日看到突破。

（完）
